from web3 import Web3

w3 = Web3(Web3.HTTPProvider('http://127.0.0.1:7545'))

print(w3.isConnected())

abi = """[
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "_test",
                "type": "string"
            }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
    },
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "test",
                "type": "uint256"
            }
        ],
        "name": "myFunction",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "pure",
        "type": "function"
    }
]"""

bytecode = "608060405234801561001057600080fd5b5060405161044438038061044483398181016040528101906100329190610162565b806000908051906020019061004892919061004f565b505061031a565b82805461005b90610234565b90600052602060002090601f01602090048101928261007d57600085556100c4565b82601f1061009657805160ff19168380011785556100c4565b828001600101855582156100c4579182015b828111156100c35782518255916020019190600101906100a8565b5b5090506100d191906100d5565b5090565b5b808211156100ee5760008160009055506001016100d6565b5090565b6000610105610100846101d0565b6101ab565b905082815260208101848484011115610121576101206102fa565b5b61012c848285610201565b509392505050565b600082601f830112610149576101486102f5565b5b81516101598482602086016100f2565b91505092915050565b60006020828403121561017857610177610304565b5b600082015167ffffffffffffffff811115610196576101956102ff565b5b6101a284828501610134565b91505092915050565b60006101b56101c6565b90506101c18282610266565b919050565b6000604051905090565b600067ffffffffffffffff8211156101eb576101ea6102c6565b5b6101f482610309565b9050602081019050919050565b60005b8381101561021f578082015181840152602081019050610204565b8381111561022e576000848401525b50505050565b6000600282049050600182168061024c57607f821691505b602082108114156102605761025f610297565b5b50919050565b61026f82610309565b810181811067ffffffffffffffff8211171561028e5761028d6102c6565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b61011b806103296000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c806350628c9614602d575b600080fd5b60436004803603810190603f91906074565b6057565b604051604e919060a9565b60405180910390f35b6000819050919050565b600081359050606e8160d1565b92915050565b600060208284031215608757608660cc565b5b60006093848285016061565b91505092915050565b60a38160c2565b82525050565b600060208201905060bc6000830184609c565b92915050565b6000819050919050565b600080fd5b60d88160c2565b811460e257600080fd5b5056fea264697066735822122086be9bb6528fd2455124cc1111e579227ce7f2612bcbf7d1a6f04e77ed2b7f2e64736f6c63430008060033"

#Test = w3.eth.contract(abi=abi, bytecode=bytecode)

#tx_hash = Test.constructor("test").transact()

#tx_receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
#tx_receipt.contractAddress

deployed_contract = w3.eth.contract(address="0xc8D6C5e3D4584d3a1D15310A039227BCDd9e2794", abi=abi)
print(deployed_contract.functions.myFunction(55).call())