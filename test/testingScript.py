from web3 import Web3

w3 = Web3(Web3.HTTPProvider('http://127.0.0.1:7545'))

print(w3.isConnected())

bytecode = "60806040523480156200001157600080fd5b506040516200166c3803806200166c83398181016040528101906200003791906200015d565b604051806040016040528088815260200187815250600080820151816000015560208201518160010155905050846002819055508360038190555082600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600b819055506000600681905550600060088190555050505050505050620002ab565b60008151905062000129816200025d565b92915050565b600081519050620001408162000277565b92915050565b600081519050620001578162000291565b92915050565b600080600080600080600060e0888a0312156200017f576200017e62000258565b5b60006200018f8a828b016200012f565b9750506020620001a28a828b016200012f565b9650506040620001b58a828b0162000146565b9550506060620001c88a828b0162000146565b9450506080620001db8a828b0162000118565b93505060a0620001ee8a828b0162000118565b92505060c0620002018a828b0162000146565b91505092959891949750929550565b60006200021d826200022e565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600080fd5b620002688162000210565b81146200027457600080fd5b50565b620002828162000224565b81146200028e57600080fd5b50565b6200029c816200024e565b8114620002a857600080fd5b50565b6113b180620002bb6000396000f3fe6080604052600436106100ab5760003560e01c8063978bbdb911610064578063978bbdb914610229578063b07c747514610254578063bfefedb11461026b578063c08d1fe514610296578063d1dfae2b146102c1578063f19d96eb146102d85761014c565b8063017e7e581461015157806301f59d161461017c578063217f4353146101a75780634db9e9e7146101d25780635d658aca146101e957806372ee7388146102005761014c565b3661014c5760035434116100f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100eb90610cbb565b60405180910390fd5b6064600b54346101049190610fc5565b61010e9190610de6565b600c81905550600c543461012291906110b3565b600981905550603c60035460095461013a9190610de6565b6101449190610fc5565b600781905550005b600080fd5b34801561015d57600080fd5b50610166610303565b6040516101739190610c20565b60405180910390f35b34801561018857600080fd5b50610191610329565b60405161019e9190610d1b565b60405180910390f35b3480156101b357600080fd5b506101bc61032f565b6040516101c99190610d1b565b60405180910390f35b3480156101de57600080fd5b506101e7610335565b005b3480156101f557600080fd5b506101fe6103c4565b005b34801561020c57600080fd5b5061022760048036038101906102229190610a95565b610482565b005b34801561023557600080fd5b5061023e6106b1565b60405161024b9190610d1b565b60405180910390f35b34801561026057600080fd5b506102696106b7565b005b34801561027757600080fd5b50610280610782565b60405161028d9190610d1b565b60405180910390f35b3480156102a257600080fd5b506102ab610788565b6040516102b89190610d1b565b60405180910390f35b3480156102cd57600080fd5b506102d661078e565b005b3480156102e457600080fd5b506102ed610a7a565b6040516102fa9190610d1b565b60405180910390f35b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600c5481565b60025481565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614801561039457506000600654145b61039d57600080fd5b600560006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480156104705750600073ffffffffffffffffffffffffffffffffffffffff16600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b61047957600080fd5b42600681905550565b600073ffffffffffffffffffffffffffffffffffffffff16600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146104dd57600080fd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff76abc08113801561050e57506289544081125b61054d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054490610c5b565b60405180910390fd5b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeed57808213801561057f5750630112a88082125b6105be576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b590610c9b565b60405180910390fd5b60006002600060010154836105d3919061101f565b6105dd9190610f59565b60026000800154856105ef919061101f565b6105f99190610f59565b6106039190610d52565b905060006127106201b223836106199190610fc5565b6106239190610de6565b905060025481111561066a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066190610cfb565b60405180910390fd5b33600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b600b5481565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610747576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161073e90610c3b565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b60035481565b60075481565b60006008541480156108455750600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614806108445750600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b5b61084e57600080fd5b6007544261085c91906110b3565b6008819055506000600354603c6008546108769190610de6565b6108809190610fc5565b90506000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16826040516108ca90610c0b565b60006040518083038185875af1925050503d8060008114610907576040519150601f19603f3d011682016040523d82523d6000602084013e61090c565b606091505b5050905080610950576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094790610cdb565b60405180910390fd5b6000600c546007546008546109659190610de6565b61096f9190610fc5565b90506000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16826040516109b990610c0b565b60006040518083038185875af1925050503d80600081146109f6576040519150601f19603f3d011682016040523d82523d6000602084013e6109fb565b606091505b5050905080610a3f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3690610c7b565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b60095481565b600081359050610a8f81611364565b92915050565b60008060408385031215610aac57610aab611198565b5b6000610aba85828601610a80565b9250506020610acb85828601610a80565b9150509250929050565b610ade816110e7565b82525050565b6000610af1602c83610d41565b9150610afc826111aa565b604082019050919050565b6000610b14601d83610d41565b9150610b1f826111f9565b602082019050919050565b6000610b37602183610d41565b9150610b4282611222565b604082019050919050565b6000610b5a601e83610d41565b9150610b6582611271565b602082019050919050565b6000610b7d602f83610d41565b9150610b888261129a565b604082019050919050565b6000610ba0602083610d41565b9150610bab826112e9565b602082019050919050565b6000610bc3600083610d36565b9150610bce82611312565b600082019050919050565b6000610be6602783610d41565b9150610bf182611315565b604082019050919050565b610c0581611123565b82525050565b6000610c1682610bb6565b9150819050919050565b6000602082019050610c356000830184610ad5565b92915050565b60006020820190508181036000830152610c5481610ae4565b9050919050565b60006020820190508181036000830152610c7481610b07565b9050919050565b60006020820190508181036000830152610c9481610b2a565b9050919050565b60006020820190508181036000830152610cb481610b4d565b9050919050565b60006020820190508181036000830152610cd481610b70565b9050919050565b60006020820190508181036000830152610cf481610b93565b9050919050565b60006020820190508181036000830152610d1481610bd9565b9050919050565b6000602082019050610d306000830184610bfc565b92915050565b600081905092915050565b600082825260208201905092915050565b6000610d5d826110f9565b9150610d68836110f9565b9250817f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03831360008312151615610da357610da261113a565b5b817f8000000000000000000000000000000000000000000000000000000000000000038312600083121615610ddb57610dda61113a565b5b828201905092915050565b6000610df182611123565b9150610dfc83611123565b925082610e0c57610e0b611169565b5b828204905092915050565b6000808291508390505b6001851115610e6157808604811115610e3d57610e3c61113a565b5b6001851615610e4c5780820291505b8081029050610e5a8561119d565b9450610e21565b94509492505050565b60008260008114610e825760018114610e8c57610e95565b6001915050610f51565b82915050610f51565b5081610ea45760009050610f51565b600190506000821360018114610ec15760008114610ed957610eed565b828604831115610ed457610ed361113a565b5b610eed565b828605831215610eec57610eeb61113a565b5b5b506001831615610efb578190505b8182029150610f098361119d565b9250610f1785848484610e17565b925090508185048111600082131615610f3357610f3261113a565b5b8184058112600082121615610f4b57610f4a61113a565b5b81810290505b949350505050565b6000610f64826110f9565b9150610f6f8361112d565b9250610fbd7f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f80000000000000000000000000000000000000000000000000000000000000008585610e6a565b905092915050565b6000610fd082611123565b9150610fdb83611123565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156110145761101361113a565b5b828202905092915050565b600061102a826110f9565b9150611035836110f9565b9250827f8000000000000000000000000000000000000000000000000000000000000000018212600084121516156110705761106f61113a565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0182136000841216156110a8576110a761113a565b5b828203905092915050565b60006110be82611123565b91506110c983611123565b9250828210156110dc576110db61113a565b5b828203905092915050565b60006110f282611103565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600080fd5b60008160011c9050919050565b7f596f75206d75737420626520746865206a6f62206f776e657220746f2063616e60008201527f63656c2074686973206a6f620000000000000000000000000000000000000000602082015250565b7f4c61746974756465206e6f7420696e20626f756e6465642072616e6765000000600082015250565b7f46656520646964206e6f7420726561636820636f6d70616e792061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b7f4c6f6e676974756465206e6f7420696e20626f756e6465642072616e67650000600082015250565b7f426f756e747920706572206d696e7574652067726561746572207468616e207660008201527f616c7565206465706f73697465642e0000000000000000000000000000000000602082015250565b7f5061796d656e7420646964206e6f7420726561636820636f6e74726163746f72600082015250565b50565b7f47656f6c6f636174696f6e206f757473696465206f662064657369726564206c60008201527f6f636174696f6e00000000000000000000000000000000000000000000000000602082015250565b61136d816110f9565b811461137857600080fd5b5056fea264697066735822122045d48efeb52c0fcb0d9a86061c7882178c0a9a865c8e12fa20ba2cbaaf7a4af864736f6c63430008060033"
abi = """[
    {
        "inputs": [
            {
                "internalType": "int256",
                "name": "_longitude",
                "type": "int256"
            },
            {
                "internalType": "int256",
                "name": "_latitude",
                "type": "int256"
            },
            {
                "internalType": "uint256",
                "name": "_radius",
                "type": "uint256"
            },
            {
                "internalType": "uint256",
                "name": "_bountyPerMinute",
                "type": "uint256"
            },
            {
                "internalType": "address",
                "name": "_owner",
                "type": "address"
            },
            {
                "internalType": "address",
                "name": "_feeTo",
                "type": "address"
            },
            {
                "internalType": "uint256",
                "name": "_feeRate",
                "type": "uint256"
            }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
    },
    {
        "inputs": [],
        "name": "bountyPerMinute",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "cancelJob",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "int256",
                "name": "_long",
                "type": "int256"
            },
            {
                "internalType": "int256",
                "name": "_lat",
                "type": "int256"
            }
        ],
        "name": "contractorAcceptJob",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "feeRate",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "feeTo",
        "outputs": [
            {
                "internalType": "address",
                "name": "",
                "type": "address"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "finishJob",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "maxFee",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "ownerAcceptContractor",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "ownerRejectConctractor",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "radius",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "timeLimit",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "totalBounty",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "stateMutability": "payable",
        "type": "receive"
    }
]"""

Job = w3.eth.contract(abi=abi, bytecode=bytecode)

#j = Job.constructor(50, 50, 5, 10, "0xa26e4b13dd742bE0e551C8E1701c3C6eafe2607b", "0xa26e4b13dd742bE0e551C8E1701c3C6eafe2607b", 10)

deployed_contract = w3.eth.contract(address="0x23774fb73932F3ced6bB3935EEbFB2790726424f", abi=abi)

tx_hash = deployed_contract.functions.cancelJob().call()
print(tx_hash)
tx_receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
tx_receipt.contractAddress